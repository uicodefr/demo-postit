<mat-tab-group mat-stretch-tabs [(selectedIndex)]="selectedIndex" (selectedTabChange)="changeBoard($event)">

  <mat-tab *ngFor="let board of boardList">
    <ng-template mat-tab-label>
      <span class="tabTitle">
        {{ board.name }}
      </span>
    </ng-template>

    <ng-template matTabContent>
      <div class="cardBoard" *ngIf="noteListMap.get(board.id)">

        <app-board-note *ngFor="let note of noteListMap.get(board.id)" [note]="note" [otherBoardList]="otherBoardList"
          (takeOffNote)="takeOffNote($event)" (changeNote)="refreshCurrentBoard()" (orderNote)="reorderBoard($event)">
        </app-board-note>

        <mat-card class="cardButtons">
          <mat-card-content>
            <div class="buttonCard">

              <button (click)="refreshCurrentBoard()" mat-mini-fab color="primary" title="Refresh board" i18n-title>
                <mat-icon>refresh</mat-icon>
              </button>

              <button *ngIf="parameterNoteMax && parameterNoteMax > noteListMap.get(board.id).length"
                (click)="addNote(board)" mat-raised-button color="primary" appHighlight i18n>
                Add a note
              </button>

            </div>
          </mat-card-content>
        </mat-card>

      </div>
    </ng-template>
  </mat-tab>

</mat-tab-group>